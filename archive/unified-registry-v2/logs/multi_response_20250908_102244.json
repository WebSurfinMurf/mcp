{"jsonrpc": "2.0", "result": {"protocolVersion": "2024-11-05", "capabilities": {"tools": {"listChanged": false}}, "serverInfo": {"name": "postgres", "version": "1.0.0"}}, "id": 1}
{"jsonrpc": "2.0", "result": {"tools": [{"name": "list_databases", "description": "List all databases in the PostgreSQL server", "inputSchema": {"type": "object", "properties": {"include_system": {"default": false, "description": "Include system databases (postgres, template0, template1)", "title": "Include System", "type": "boolean"}, "pattern": {"anyOf": [{"pattern": "^[a-zA-Z0-9_%]+$", "type": "string"}, {"type": "null"}], "default": null, "description": "LIKE pattern for filtering", "title": "Pattern"}, "include_size": {"default": true, "description": "Include database sizes", "title": "Include Size", "type": "boolean"}}, "required": []}}, {"name": "execute_sql", "description": "Execute SQL queries on the database", "inputSchema": {"type": "object", "properties": {"query": {"description": "SQL query to execute", "maxLength": 50000, "minLength": 1, "title": "Query", "type": "string"}, "database": {"anyOf": [{"pattern": "^[a-zA-Z0-9_]+$", "type": "string"}, {"type": "null"}], "default": null, "description": "Database name", "title": "Database"}, "timeout": {"anyOf": [{"maximum": 300, "minimum": 1, "type": "integer"}, {"type": "null"}], "default": 30, "description": "Query timeout in seconds", "title": "Timeout"}, "format": {"anyOf": [{"$ref": "#/$defs/DatabaseFormat"}, {"type": "null"}], "default": "json", "description": "Output format"}}, "required": ["query"]}}, {"name": "list_tables", "description": "List tables in a database", "inputSchema": {"type": "object", "properties": {"database": {"anyOf": [{"pattern": "^[a-zA-Z0-9_]+$", "type": "string"}, {"type": "null"}], "default": null, "description": "Database name", "title": "Database"}, "schema_name": {"default": "public", "description": "Schema name", "pattern": "^[a-zA-Z0-9_]+$", "title": "Schema Name", "type": "string"}, "pattern": {"anyOf": [{"pattern": "^[a-zA-Z0-9_%]+$", "type": "string"}, {"type": "null"}], "default": null, "description": "LIKE pattern for filtering", "title": "Pattern"}, "include_system": {"default": false, "description": "Include system tables", "title": "Include System", "type": "boolean"}, "include_sizes": {"default": false, "description": "Include table sizes (slower)", "title": "Include Sizes", "type": "boolean"}}, "required": []}}, {"name": "table_info", "description": "Get detailed information about a table", "inputSchema": {"type": "object", "properties": {"database": {"anyOf": [{"pattern": "^[a-zA-Z0-9_]+$", "type": "string"}, {"type": "null"}], "default": null, "description": "Database name", "title": "Database"}, "schema_name": {"default": "public", "description": "Schema name", "pattern": "^[a-zA-Z0-9_]+$", "title": "Schema Name", "type": "string"}, "table": {"description": "Table name", "pattern": "^[a-zA-Z0-9_]+$", "title": "Table", "type": "string"}, "include_indexes": {"default": true, "description": "Include index information", "title": "Include Indexes", "type": "boolean"}, "include_constraints": {"default": true, "description": "Include constraint information", "title": "Include Constraints", "type": "boolean"}, "include_stats": {"default": false, "description": "Include table statistics", "title": "Include Stats", "type": "boolean"}}, "required": ["table"]}}, {"name": "query_stats", "description": "Get query performance statistics", "inputSchema": {"type": "object", "properties": {"database": {"anyOf": [{"pattern": "^[a-zA-Z0-9_]+$", "type": "string"}, {"type": "null"}], "default": null, "description": "Database name", "title": "Database"}, "min_calls": {"default": 10, "description": "Minimum number of calls", "minimum": 1, "title": "Min Calls", "type": "integer"}, "order_by": {"default": "total_time", "description": "Sort order", "pattern": "^(calls|total_time|mean_time|max_time)$", "title": "Order By", "type": "string"}, "limit": {"default": 20, "description": "Number of results to return", "maximum": 100, "minimum": 1, "title": "Limit", "type": "integer"}}, "required": []}}]}, "id": 2}
{"jsonrpc": "2.0", "result": {"databases": [{"name": "defaultdb", "owner": "admin", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": null, "size": 7713583, "size_pretty": "7533 kB"}, {"name": "guacamole_db", "owner": "guacamole_user", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": "=Tc/guacamole_user, guacamole_user=CTc/guacamole_user", "size": 9179951, "size_pretty": "8965 kB"}, {"name": "litellm_db", "owner": "admin", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": "=Tc/admin, admin=CTc/admin, litellm_user=CTc/admin", "size": 11309871, "size_pretty": "11 MB"}, {"name": "mcp_memory", "owner": "admin", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": null, "size": 9229103, "size_pretty": "9013 kB"}, {"name": "mcp_memory_admin", "owner": "administrator", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": null, "size": 8950575, "size_pretty": "8741 kB"}, {"name": "mcp_memory_administrator", "owner": "administrator", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": null, "size": 9220911, "size_pretty": "9005 kB"}, {"name": "n8n_db", "owner": "n8n_user", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": "=Tc/n8n_user, n8n_user=CTc/n8n_user", "size": 10588975, "size_pretty": "10 MB"}, {"name": "nextcloud", "owner": "admin", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": "=Tc/admin, admin=CTc/admin, nextcloud=CTc/admin", "size": 18273071, "size_pretty": "17 MB"}, {"name": "openbao_db", "owner": "openbao_user", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": "=Tc/openbao_user, openbao_user=CTc/openbao_user", "size": 7869231, "size_pretty": "7685 kB"}, {"name": "openproject_production", "owner": "openproject", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": "=Tc/openproject, openproject=CTc/openproject", "size": 30798639, "size_pretty": "29 MB"}, {"name": "postfixadmin", "owner": "postfixadmin", "encoding": "UTF8", "collation": "en_US.utf8", "ctype": "en_US.utf8", "access_privileges": "=Tc/postfixadmin, postfixadmin=CTc/postfixadmin", "size": 8434479, "size_pretty": "8237 kB"}], "count": 11}, "id": 3}
